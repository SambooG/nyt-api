<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
        <div class="jumbotron jumbotron-fluid">
                <div class="container">
                  <h1 class="display-4">New York Times Search</h1>
                  <!-- <p class="lead">This is a modified jumbotron that occupies the entire horizontal space of its parent.</p> -->
                </div>
              </div>    

              <form>
                    <div class="form-group">
                      <label for="searchterm">Search Terms</label>
                      <input type="search" class="form-control" id="exampleInputsearchterm" aria-describedby="searchHelp" placeholder="Enter search">
                    </div>
                    <div class="form-group">
                      <label for="number of records">Number of Records</label>
                      <input type="records" class="form-control" id="exampleInputnumberofrecords" placeholder="records">
                    </div>
                    <div class="form-group">
                            <label for="startyear">Star Year</label>
                            <input type="start year" class="form-control" id="useryear" aria-describedby="startyear" placeholder="Enter start year">
                          </div>
                    <div class="form-group">
                        <label for="endyear">End Year</label>
                        <input type="endyear" class="form-control" id="exampleendyear" aria-describedby="endyear" placeholder="Enter end year">
                        </div>
                    
                    <button type="submit" class="btn btn-primary" id="submit">Submit</button>
                  </form>
                  <div id="top-articles">
                    </div>
   <!-- <script type="text/javascript"> -->
<!-- // $("#submit").on("click", function() {
    // var dummy = {
    //     headline: "Boo",
    //     author: "Jack"
    // };
    
    // var newDiv = $("<div>");

  console.log($("#exampleInputsearchterm").val());
  console.log($("#exampleInputnumberofrecords").val());
  console.log($("#examplestartyear").val());
  console.log($("#exampleendyear").val());

  
    
    
// }); -->
    <!-- </script> -->
  
  <script type="text/javascript">

    $("#submit").on("click", function() {
      
   var maxrecords = $("#exampleInputnumberofrecords").val();
   var searchTerm = $("#exampleInputsearchterm").val();
   var userstartyearinput = $("#examplestartyear").val();
   var userendyearinput = $("#exampleendyear").val();
   
   var queryURL = "https://api.nytimes.com/svc/search/v2/articlesearch.json?q= " + searchTerm + "&api-key=BLKVm6yuirvwVkuq17tlzymy9cFCmdLk&pub_year=" + userstartyearinput
   
       $.ajax({
           url: queryURL,
           method: "GET"
         }).then(function(response) {
       var results = response.response.docs;
   
       
       for (var i = 0; i < results.length; i++) {
            var docDiv = $("<div>");
            var p = $("<p>");
            p.text(JSON.stringify(results[i]));
            docDiv.append(p.text());
            $("#top-articles").append(docDiv);
           }
          
   
      });
    });
  </script>
</body>
</html>

